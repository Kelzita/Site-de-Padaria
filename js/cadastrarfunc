function cadastrar(event) {
  event.preventDefault(); // Impede o envio padrão do formulário

  // Captura dos dados do formulário com os IDs atualizados
  const funcionario = {
    nome: document.getElementById('nomefunc').value,
    cpf: document.getElementById('cpf').value,
    rg: document.getElementById('rg').value,
    senha: document.getElementById('senha').value,
    email: document.getElementById('email').value,
    telefone: document.getElementById('telefone').value,
    funcao: document.getElementById('funcao').value,
    admissao: document.getElementById('admissao').value,
    salario: parseFloat(document.getElementById('salario').value),
    ativo: true // O funcionário será criado como ativo por padrão
  };

  console.log(funcionario); // Verifica os dados capturados

  // Validação para garantir que todos os campos obrigatórios estão preenchidos
  if (!funcionario.nome || !funcionario.cpf || !funcionario.rg || !funcionario.senha || !funcionario.email || !funcionario.telefone || !funcionario.funcao || !funcionario.admissao || isNaN(funcionario.salario)) {
    alert("Por favor, preencha todos os campos corretamente.");
    return;
  }

  // Recupera a lista de funcionários já cadastrados
  let funcionarios = JSON.parse(localStorage.getItem("funcionarios")) || [];
  console.log(funcionarios); // Verifica o conteúdo do localStorage antes de adicionar o novo funcionário

  // Adiciona o novo funcionário à lista
  funcionarios.push(funcionario);

  // Salva a lista atualizada no localStorage
  localStorage.setItem("funcionarios", JSON.stringify(funcionarios));

  // Redireciona para a lista de funcionários
  window.location.href = "listaFuncionarios.html"; // Certifique-se de que a URL está correta
}
